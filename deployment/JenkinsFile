pipeline {
    agent any
    stages {
        stage('Go Docker Image Build') {
            steps{
                echo "Building R3APP"
                echo "CURRENT WORKSPACE       ::: ${WORKSPACE}"

                //sh "chmod +x ./deployment/build-go.sh"
                //sh "./deployment/build-go.sh"
                sh "chmod +x ./deployment/docker-build.sh"
                sh "./deployment/docker-build.sh"
            }
        }
        stage('Go Local Docker Deploy') {
            steps{
                script{
                    input(id: "confirm", message: "Proceed to deploy in local docker?", ok: "Proceed")
                }
                sh "chmod +x ./deployment/docker-deploy.sh"
                sh "./deployment/docker-deploy.sh"

            }
        }
        stage('Go ECS Deploy') {
            steps{
                script{
                    input(id: "confirm", message: "Proceed to deploy in ECS?", ok: "Proceed")
                }
                echo 'Deploying Production Go'
            }
        }

    }
}